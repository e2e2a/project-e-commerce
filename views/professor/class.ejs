
<%- include('./partials/header/header.ejs'); %>
<body class="animsition">
    <div class="page-wrapper">
        <%- include('./partials/navigation/mobile-nav.ejs'); %>
        <%- include('./partials/navigation/nav.ejs'); %>

        <!-- PAGE CONTAINER-->
        <div class="page-container" <% if(studentClass.length <= 3) { %> style="min-height: 100vh;" <% } %>>
            <%- include('./partials/sidebar/sidebar.ejs'); %>
            <!-- END HEADER DESKTOP-->

            <!-- STATISTIC-->
            <section class="statistic m-t-75">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="row" >
                            <div class="col-12">
                                <h3 class=" m-b-35">Classes</h3>
                            </div>
                            <% if(studentClass.length > 0) { %>
                                <% const displayedCourses = new Set(); %>
                                <% studentClass.forEach(student => { %>
                                    <% if (!displayedCourses.has(student.courseTitle)) { %>
                                    <% displayedCourses.add(student.courseTitle); %>
                                    <div class="col-lg-12 ">
                                    <div class="table-responsive table--no-card m-b-30">
                                        <h4 class="title-5 m-3">Subject Title: <%= student.courseTitle %></h4>
                                        <table class="table table-borderless table-striped table-earning justify-content-center align-items-center">
                                            <thead>
                                                <tr class="text-center">
                                                    <th>Student Name</th>
                                                    <th>Level</th>
                                                    <th>Time</th>
                                                    <th>Days</th>
                                                    <th>Date Approved</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td class="align-middle text-center"><%= student.userId.fullname %></td>
                                                    <td class="align-middle text-center"><%= student.level %></td>
                                                    <td class="align-middle text-center"><%= student.time %></td>
                                                    <td class="align-middle text-center"><%= student.schedule %></td>
                                                    <td class="align-middle text-center"><%= student.dateApproved %></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <% } %>
                                <% }); %>
                            <% } else { %>
                                <div class="col-lg-12 " style="height: 60vh;">
                                    <h3 class="">No Classes found.</h3>
                                </div>
                            <% } %>
                        </div>
                    </div>
                </div>
            </section>
            <!-- END STATISTIC-->

            <!-- END PAGE CONTAINER-->
        </div>

    </div>
</body>
<%- include('./partials/footer/footer_js.ejs'); %>
